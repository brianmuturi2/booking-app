{"version":3,"sources":["./src/app/places/offers/models/offers.model.ts","./src/app/places/offers/offer-item/offer-item.component.ts","./src/app/places/offers/offers-routing.module.ts","./src/app/places/offers/offers.module.ts","./src/app/places/offers/offers/offers.page.ts","./src/app/places/offers/services/offers.service.ts","./src/app/places/offers/offer-item/offer-item.component.scss","./src/app/places/offers/offers/offers.page.scss","./src/app/places/offers/offer-item/offer-item.component.html","./src/app/places/offers/offers/offers.page.html"],"names":[],"mappings":"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","file":"src_app_places_offers_offers_module_ts.js","sourcesContent":["export class Offer {\n  constructor(private id: string, private title: string, private imageUrl: string) { }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Place} from '../../places/models/place.model';\n\n@Component({\n  selector: 'offer-item',\n  templateUrl: './offer-item.component.html',\n  styleUrls: ['./offer-item.component.scss'],\n})\nexport class OfferItemComponent implements OnInit {\n@Input() offer: Place;\n  constructor() { }\n\n  ngOnInit() {}\n\n  getDummyDate() {\n   return new Date();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OffersPage } from './offers/offers.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OffersPage\n  },\n  {\n    path: 'new',\n    loadChildren: () => import('./new-offer/new-offer.module').then(m => m.NewOfferPageModule)\n  },\n  {\n    path: 'edit/:placeId',\n    loadChildren: () => import('./edit-offer/edit-offer.module').then(m => m.EditOfferPageModule)\n  },\n  {\n    path: ':placeId',\n    loadChildren: () => import('./offer-bookings/offer-bookings.module').then(m => m.OfferBookingsPageModule)\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OffersPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OffersPageRoutingModule } from './offers-routing.module';\n\nimport { OffersPage } from './offers/offers.page';\nimport {OfferItemComponent} from './offer-item/offer-item.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OffersPageRoutingModule\n  ],\n  declarations: [OffersPage, OfferItemComponent]\n})\nexport class OffersPageModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport {Offer} from '../models/offers.model';\nimport {OffersService} from '../services/offers.service';\nimport {Router} from '@angular/router';\nimport {IonItemSliding} from '@ionic/angular';\nimport {PlacesService} from \"../../places/services/places.service\";\nimport {Place} from \"../../places/models/place.model\";\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-offers',\n  templateUrl: './offers.page.html',\n  styleUrls: ['./offers.page.scss'],\n})\nexport class OffersPage implements OnInit, OnDestroy {\n\n  offers: Place[] = [];\n  offersSub: Subscription;\n  isLoading = false;\n\n  constructor(private offersService: OffersService,\n              private placesService: PlacesService,\n              private router: Router) { }\n\n  ngOnInit() {\n    this.offersSub = this.placesService.places.subscribe(res => this.offers = res);\n  }\n\n  ionViewWillEnter() {\n    this.isLoading = true;\n    this.offersSub =  this.placesService.fetchPlaces().subscribe(res => {\n      this.isLoading = false;\n    });\n  }\n\n  onEdit(id, slideItem: IonItemSliding ) {\n    console.log(id);\n    this.router.navigate(['/places/offers/edit', id]);\n    slideItem.close();\n  }\n\n  ngOnDestroy() {\n    this.offersSub.unsubscribe();\n  }\n\n  ionViewDidEnter() {\n    this.offersSub = this.placesService.places.subscribe(res => {\n      this.offers = res;\n      console.log('offers are ', this.offers);\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {Offer} from '../models/offers.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OffersService {\n\n  private _offers: Offer[] = [\n    new Offer('p1', 'Manhattan Mansion', 'https://media.timeout.com/images/105150636/image.jpg'),\n    new Offer('p2', 'L\\'Amour Toujours', 'https://imagesvc.meredithcorp.io/v3/mm/image?url=https%3A%2F%2Fstatic.onecms.io%2Fwp-content%2Fuploads%2Fsites%2F28%2F2017%2F08%2Ffunky-loft-studio-airbnb-rental-paris-france-AIRBNBPARIS0817.jpg'),\n    new Offer('p3', 'The Foggy Palace', 'https://static.tripzilla.com/thumb/9/0/165008_800x.jpg'),\n    ];\n\n  constructor() { }\n\n  get offers() {\n    return [...this._offers];\n  }\n}\n","export default \".offer-details {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.space_left {\\n  margin-left: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9mZmVyLWl0ZW0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0FBQ0YiLCJmaWxlIjoib2ZmZXItaXRlbS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5vZmZlci1kZXRhaWxzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLnNwYWNlX2xlZnQge1xuICBtYXJnaW4tbGVmdDogNXB4O1xufVxuIl19 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvZmZlcnMucGFnZS5zY3NzIn0= */\";","export default \"<ion-item>\\n  <ion-thumbnail slot=\\\"start\\\">\\n    <ion-img [src]=\\\"offer.imageUrl\\\"></ion-img>\\n  </ion-thumbnail>\\n  <ion-label>\\n    <h2>{{offer.title}}</h2>\\n    <div class=\\\"offer-details\\\">\\n      <ion-icon name=\\\"calendar\\\" color=\\\"secondary\\\"></ion-icon>\\n      <ion-text color=\\\"primary\\\" class=\\\"space_left\\\">{{offer.availableFrom | date}}</ion-text>\\n      <span class=\\\"space_left\\\">to</span>\\n      <ion-icon name=\\\"calendar\\\" color=\\\"secondary space_left\\\"></ion-icon>\\n      <ion-text color=\\\"primary\\\" class=\\\"space_left\\\">{{offer.availableTo | date}}</ion-text>\\n    </div>\\n  </ion-label>\\n</ion-item>\\n\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button menu=\\\"m1\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>My Offers</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button [routerLink]=\\\"['/places/offers/new']\\\">\\n        <ion-icon name=\\\"add\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" size-sm=\\\"8\\\" offset-sm=\\\"2\\\">\\n        <div *ngIf=\\\"isLoading\\\" class=\\\"ion-text-center\\\">\\n          <ion-spinner name=\\\"crescent\\\" color=\\\"primary\\\"></ion-spinner>\\n        </div>\\n        <p *ngIf=\\\"!isLoading && offers.length === 0\\\"></p>\\n        <ion-list *ngIf=\\\"!isLoading\\\">\\n          <!--<ion-item-sliding  *ngFor=\\\"let offer of offers\\\" [routerLink]=\\\"['/places/offers', offer.id]\\\">-->\\n          <ion-item-sliding  *ngFor=\\\"let offer of offers\\\" #sliding [routerLink]=\\\"['/places/offers', offer.id]\\\">\\n              <offer-item [offer]=\\\"offer\\\"></offer-item>\\n            <ion-item-options side=\\\"end\\\">\\n              <ion-item-option color=\\\"secondary\\\" (click)=\\\"onEdit(offer.id, sliding)\\\">\\n                Edit\\n                <ion-icon name=\\\"create\\\" slot=\\\"top\\\"></ion-icon>\\n              </ion-item-option>\\n            </ion-item-options>\\n          </ion-item-sliding>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}